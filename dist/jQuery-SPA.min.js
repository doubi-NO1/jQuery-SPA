!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=7)}([function(e,t){const o=e=>{var t=$.Deferred();try{if(Array.isArray(e)){var o=[];return e.forEach((e,n)=>{o.push(!1),n=n,$.get(e).done(()=>{o[n]=!0,o.every(e=>e)&&t.resolve()})}),t}return $.get(e)}catch(e){t.reject(e)}};var n;e.exports={getResource:o,loading:(e,t,n)=>{console.log(e,t),o(n+"template/page/"+t+".tpl").done(e=>{try{$("#app").html(e).append('<script type="text/javascript" src="'+n+"js/page/"+t+'.js"><\/script>')}catch(e){console.log(e)}}).fail(e=>{console.log(e)})}}},function(e,t,o){const{loading:n}=o(0);function r(e){var t=(e&&e.newURL||window.location.hash).replace(/.*#/,""),o=!1;for(var n in Route.routes){var r=i(n).exec(t);if(r&&r[0]&&""!=r[0]){var s=Route.routes[n];s&&s.apply(null,r.slice(1)),o=!0;break}}!o&&Route.defaultAction&&Route.defaultAction()}function i(e){return e=e.replace(/[\-{}\[\]+?.,\\\^$|#\s]/g,"\\$&").replace(/\((.*?)\)/g,"(?:$1)?").replace(/(\(\?)?:\w+/g,function(e,t){return t?e:"([^/?]+)"}).replace(/\*\w+/g,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")}function s(e,t){if(!this instanceof s)return new s(e);this.domain=t,this.add(e)}window.Route={init(e,t,o){(t=t||e["*"]||null)&&(Route.defaultAction=t,delete e["*"]),Route.routes=e,!0!==o&&(!function(){if(!("onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7)))throw new Error("sorry, your browser doesn't support route");!0===this.history?setTimeout(function(){window.onpopstate=r},500):window.onhashchange=r,this.mode="modern"}(),r())},getParam(){var e=window.location.hash,t=[];if(!e)return t;var o=e.replace(/.*#/,"");for(var n in Route.routes){var r=i(n).exec(o);r&&r[0]&&""!=r[0]&&(t=r.slice(1))}return t},routes:{},defaultAction:null},s.prototype={add(e,t){if("string"==typeof e)this[e]=this.setup(e,t);else for(var o in e)this[o]=this.setup(o,e[o]);return this},remove(e){return this[e]&&delete this[e],this},setup(e,t){return()=>{n(e,t,this.domain)}},init(e){Route.init(this,e.routes["*"])}},e.exports=s},function(e,t){e.exports={cssLoader:e=>{e.css.forEach(t=>{$("head").append('<link href="'+e.domain+t+"?v="+e.version+'" rel="stylesheet" type="text/css">')})},jsLoader:e=>{const t=$.Deferred();var o=[],n=(new Date).getTime();return e.js.forEach(function(r,i){!function(){o.push(!1);var s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("charset","utf-8"),s.setAttribute("src",e.domain+r+"?timestep="+n),s.addEventListener("load",function(e){o[i]=!0,!0===o.every(function(e){return e})&&t.resolve()},!1),$("head")[0].appendChild(s)}()}),t},htmlLoader:e=>{const t=$.Deferred();var o=$("include");const n=r=>{var i=e.domain+$(o[r]).attr("src");$.get(i).done(function(e){$(o[r]).replaceWith($(e)),++r<o.length?n(r):t.resolve()}).fail(function(e){console.log(e)})};return o.length?n(0):t.resolve(),t}}},function(e,t,o){const{cssLoader:n,jsLoader:r,htmlLoader:i}=o(2),s=o(1);e.exports=class{constructor(e){this.config=Object.assign({},config,e),this.router=new s(this.config.routes,this.config.domain),this.document=$(document)}start(){const e=this.document;e.one("jsLoader",()=>{r(config).then(()=>{e.trigger("initRoute")})}),e.one("initRoute",()=>{this.router.init(config),this.config.onReady&&this.config.onReady.call(this)}),n(config),i(config).done(()=>{e.trigger("jsLoader")})}}},function(e,t){e.exports={fileUploader(e){var t,o,n,r=$.Deferred(),i=e;if(i.data){for(var s in i.url+="?",i.data)i.url+=s+"="+i.data[s]+"&";i.url=i.url.substr(0,i.url.length-1)}if(i.file&&i.file instanceof File){var a=new FileReader;return a.addEventListener("loadend",()=>{t=new Blob([a.result],{type:i.file.type}),o=i.file.type,(n=new XMLHttpRequest).onreadystatechange=(()=>{if(4==n.readyState&&200==n.status){var e=JSON.parse(n.responseText);-100==e.ec?window.location.href="login.html":-1==e.ec?r.reject(e):r.resolve(e)}}),n.open("POST",i.url),n.setRequestHeader("Content-Type",o),n.setRequestHeader("Filename",encodeURIComponent(i.file.name)),n.send(t)}),a.readAsArrayBuffer(i.file),r}return $.ajax(i.url)},random(e){var t="",o=new Array("a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","i","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9");seedlength=o.length;for(var n=0;n<e;n++){t+=o[Math.floor(Math.random()*seedlength)]}return t},getDomain:()=>config.domain}},function(e,t){e.exports={setCookie(e,t,o){if(0!==o){var n=24*o*60*60*1e3,r=new Date(+new Date+n);document.cookie=e+"="+escape(t)+";expires="+r.toUTCString()}else document.cookie=e+"="+escape(t)},getcookie(e){var t,o=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return(t=document.cookie.match(o))?unescape(t[2]):null},delCookie(e){this.setCookie(e," ",-1)}}},function(e,t,o){"use strict";o.r(t),t.default={app:"app",domain:"//",js:[],css:[],selector:"#app",routes:{defaultAction(){}},onReady:null}},function(e,t,o){const{getCookie:n,delCookie:r,setCookie:i}=o(5),s=(o(6),Object.assign({},o(4),{setCookie:i,getCookie:n,delCookie:r})),a=o(3);$.extend(window,{App:a}),$.extend($,{utils:s})}]);